<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocobot OS</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <!-- Desktop -->
    <div id="desktop">
        <!-- Wallpaper: cardboard texture with subtle cat patterns -->
        <div class="wallpaper"></div>

        <!-- Menu Bar (como Windows/Mac) -->
        <div class="menubar">
            <button id="start-btn">ğŸ Cocobot</button>
            <div class="menu-dropdown" id="start-menu">
                <div class="menu-item" data-target="terminal"><span>ğŸ’»</span> Terminal</div>
                <div class="menu-item" data-target="snake-game"><span>ğŸ</span> Cat Snake</div>
                <div class="menu-item" data-target="file-manager"><span>ğŸ“¦</span> File Manager</div>
                <div class="menu-item" data-target="qa-dashboard"><span>ğŸ“Š</span> QA Dashboard</div>
                <div class="menu-item" data-target="settings"><span>âš™ï¸</span> Settings</div>
                <hr>
                <div class="menu-item" onclick="resetOS()">ğŸ”„ Reiniciar SO</div>
            </div>
            
            <div class="menu-title">Archivo</div>
            <div class="menu-title">Editar</div>
            <div class="menu-title">Vista</div>
            <div class="menu-title">Ayuda</div>
        </div>

        <!-- Icons -->
        <div class="icons">
            <div class="icon" data-target="terminal">
                <span>ğŸ’»</span>
                <span>Terminal</span>
            </div>
            <div class="icon" data-target="snake-game">
                <span>ğŸ</span>
                <span>Cat Snake</span>
            </div>
            <div class="icon" data-target="file-manager">
                <span>ğŸ“¦</span>
                <span>File Manager</span>
            </div>
            <div class="icon" data-target="qa-dashboard">
                <span>ğŸ“Š</span>
                <span>QA Dashboard</span>
            </div>
            <div class="icon" data-target="settings">
                <span>âš™ï¸</span>
                <span>Settings</span>
            </div>
            <!-- Easter egg: 3 quick right-clicks = Coco appears -->
            <div id="coco-plushie" class="icon hidden">
                <span>ğŸ§¸</span>
                <span>Coco</span>
            </div>
        </div>

        <!-- Window Container (for z-index management) -->
        <div id="windows-container">
            <!-- Terminal Window -->
            <div id="window-terminal" class="window">
                <div class="window-header">
                    <span>Terminal â€” Cocobot OS v1.0</span>
                    <button onclick="closeWindow('terminal')">âœ•</button>
                </div>
                <div class="window-content terminal">
                    <div class="output"></div>
                    <div class="input-line">root@cocobot:~# <input type="text" id="term-input" autocomplete="off"></div>
                </div>
            </div>

            <!-- Snake Game Window -->
            <div id="window-snake-game" class="window">
                <div class="window-header">
                    <span>ğŸ Cat Snake Game</span>
                    <button onclick="closeWindow('snake-game')">âœ•</button>
                </div>
                <div class="window-content game-container">
                    <canvas id="snake-canvas" width="480" height="360"></canvas>
                    <div class="score-board">
                        <p>PuntuaciÃ³n: <span id="snake-score">0</span></p>
                        <p>Ratones comidos: <span id="mice-eaten">0</span></p>
                    </div>
                    <p style="margin-top: 5px;">Usa las flechas del teclado para jugar</p>
                </div>
            </div>

            <!-- File Manager Window -->
            <div id="window-file-manager" class="window">
                <div class="window-header">
                    <span>ğŸ“¦ File Manager â€” Cajas de CartÃ³n</span>
                    <button onclick="closeWindow('file-manager')">âœ•</button>
                </div>
                <div class="window-content file-manager">
                    <div class="path-bar">/home/cocobot</div>
                    <div class="files-grid">
                        <div class="file-box"><span>ğŸ“‚</span><span>tests/</span></div>
                        <div class="file-box"><span>ğŸ“„</span><span>script.py</span></div>
                        <div class="file-box"><span>ğŸ§ª</span><span>report.html</span></div>
                        <div class="file-box"><span>ğŸ“¦</span><span>node_modules/</span></div>
                        <div class="file-box"><span>ğŸ±</span><span>coco_photo.jpg</span></div>
                    </div>
                </div>
            </div>

            <!-- QA Dashboard Window -->
            <div id="window-qa-dashboard" class="window">
                <div class="window-header">
                    <span>ğŸ“Š QA Dashboard â€” Coverage en Vivo</span>
                    <button onclick="closeWindow('qa-dashboard')">âœ•</button>
                </div>
                <div class="window-content qa-dashboard">
                    <div class="stats-row">
                        <div class="stat"><h4>Coverage</h4><p id="coverage-val">87%</p></div>
                        <div class="stat"><h4>Tests</h4><p><span class="pass">âœ… 124</span> / <span class="fail">âŒ 3</span></p></div>
                        <div class="stat"><h4>Pipeline</h4><p>ğŸš€ <span class="status-green">Passing</span></p></div>
                    </div>
                    <div class="test-log">
                        <h5>Ãšltimos tests ejecutados:</h5>
                        <ul id="test-list">
                            <li class="test-pass">âœ… test_login_user (0.2s)</li>
                            <li class="test-pass">âœ… test_checkout_flow (0.5s)</li>
                            <li class="test-fail">âŒ test_payment_gateway (1.2s) â€” Timeout</li>
                            <li class="test-pass">âœ… test_product_search (0.1s)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Settings Window -->
            <div id="window-settings" class="window">
                <div class="window-header">
                    <span>âš™ï¸ Settings â€” ConfiguraciÃ³n del Gato</span>
                    <button onclick="closeWindow('settings')">âœ•</button>
                </div>
                <div class="window-content settings">
                    <form>
                        <label><input type="radio" name="theme" value="day" checked> ğŸŒ DÃ­a (caja clara)</label>
                        <label><input type="radio" name="theme" value="night"> ğŸŒ™ Noche (caja oscura)</label>
                        <hr>
                        <label><input type="checkbox" id="sound-toggle" checked> ğŸ”Š Activar sonidos</label>
                        <label><input type="checkbox" id="auto-test-toggle" checked> ğŸ”„ Ejecutar tests automÃ¡ticamente</label>
                        <hr>
                        <label>Miau preferido:
                            <select id="meow-sound">
                                <option value="soft"> Miau suave (Coco)</option>
                                <option value="loud"> Miau fuerte (Isis)</option>
                                <option value="angry"> Miau enojado</option>
                            </select>
                        </label>
                    </form>
                </div>
            </div>
        </div>

        <!-- Taskbar -->
        <div class="taskbar">
            <button onclick="openWindow('terminal')" id="btn-terminal" class="active">ğŸ’»</button>
            <button onclick="openWindow('snake-game')" id="btn-snake-game" class="active">ğŸ</button>
            <button onclick="openWindow('file-manager')" id="btn-file-manager" class="active">ğŸ“¦</button>
            <button onclick="openWindow('qa-dashboard')" id="btn-qa-dashboard" class="active">ğŸ“Š</button>
            <button onclick="openWindow('settings')" id="btn-settings" class="active">âš™ï¸</button>
            <div class="clock">ğŸ•’ <span id="clock-time">08:15</span></div>
        </div>
    </div>
    
    <!-- Resizer handles for windows -->
    <div id="resizers"></div>
</body>
</html>